<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <!--
      manifest.json provides metadata used when your web app is added to the
      homescreen on Android. See https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/
    -->
    <!-- <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico"> -->
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>stockTW</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


  </head>
  <body>
    <noscript>
      You need to enable JavaScript to run this app.
    </noscript>
    <div id="root"></div>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
    <!-- <style type="text/css">
      *,
      *::after,
      *::before {
        padding: 0;
        margin: 0;
      }
    
      html {
        font-size: 62.5%;
        font-family: 'Courier New', Courier, monospace;
        box-sizing: border-box;
      }
    
      .clearfix {
        content: "";
        display: table;
        clear: both;
      }
    </style>
    <script>
      window.onload = function () {

        var windowHeight = document.documentElement.clientHeight // 视窗高度-也就是浏览器可视区域高度
        var threshold = 20 ;// 可以指定提前加载的距离
        var display = false // 如果到达指定位置，则不再执行打印log
        let oNav = document.getElementsByClassName("nav")[0];
        let oTarget = document.getElementsByTagName('header')[0];
        window.addEventListener('scroll', function () {
          // getBoundingClientRect()-得到矩形元素的界线
          // 返回的是一个对象，包含 top, left, right, 和 bottom四个属性值
          // 大小都是相对于文档视图()浏览器可视区域)左上角计算而来
          var targetRect = oTarget.getBoundingClientRect()

          //getBoundingClientRect()的top属性-目标元素离视窗顶部的距离
          var targetTop = targetRect.bottom

          if (display && targetTop > threshold) {
            display = false;
            console.log("disapear")
            // console.log(targetTop)
            // console.log(windowHeight)
            oNav.classList.toggle("scroll-hidden");
          } else if (!display && targetTop < threshold) {
            // 如果目标元素离视窗顶部的距离小于视窗高度
            // 则表示已滚动到目标元素位置
            display = true
            console.log("display")
            // console.log(targetTop)
            // console.log(windowHeight)
            oNav.classList.toggle("scroll-hidden");
          } else {
            return
          }
        })

        function autoScroll(selector, scrollDuration) {
          let el = document.querySelector(selector);
          if (!el) {
            console.log("undefined")
            return
          }
          let targetPoint = el.offsetTop;
          let scrollStep = (targetPoint - window.scrollY) / (scrollDuration / 13);
          let counter = 0;
          let isCur = 0;

          let scrollInterval = setInterval(function () {
            if (isCur === window.scrollY) {
              counter++;
            }
            isCur = window.scrollY;
            let delta = targetPoint - isCur;
            if ((delta > 100 && delta < 300)
              || counter > 3
            ) {
              clearInterval(scrollInterval);
              console.log("finished");
            }
            else {
              window.scrollBy(0, scrollStep);
              console.log("scrolling:");
            }
          }, 15);
        }

        let mAutoScroll = document.getElementById("scroll-top");
        mAutoScroll.addEventListener('click', function () {
          autoScroll('header',1000);
        })
        }
    </script> -->
  </body>
</html>
